<html>
<head>
<meta charset="utf-8"/>
<title>City Population</title>
<script>
/*
function getData(){
	//使用AJAX/XHR 技術發送連線
	let name=document.getElementById("name").value;
	let req=new XMLHttpRequest();//JavaScript內建的物件
	//req.open(連線方法,連線網址);//準備連線資訊
	req.open("get","https://roger103.github.io/github_test/city.php?name="+name);
	//註冊load事件，連線完成後觸發
	req.addEventListener("load",function(){
		//console.log(req.responseText);
		let result=document.getElementById("result");
		result.innerHTML=req.responseText;
	});
	req.send();//真正送出連線
}
*/
function getData(){
	//使用AJAX/XHR 技術發送連線
	let name=document.getElementById("name").value;
	let req=new XMLHttpRequest();//JavaScript內建的物件
	//req.open(連線方法,連線網址);//準備連線資訊
	req.open("post","https://roger103.github.io/github_test/city.php?");
	req.setRequestHeader("Content-type","application/x-www-form-urlencoded");
	//註冊load事件，連線完成後觸發
	req.addEventListener("load",function(){
		//console.log(req.responseText);
		let result=document.getElementById("result");
		result.innerHTML=req.responseText;
	});
	req.send("name="+name);//真正送出連線
}
</script>
</head>
<body>
	<h3>City Population</h3>
	<div>
		<input type="text" id="name" oninput="getData();"/>
		<input type="button" value="Search" onclick="getData();"/>
	</div>
	<div id="result"></div>
	<!--
	<form action="https://tw.search.yahoo.com/search">
		<input type="text" name="p" />
		<input type="submit" value="Search" />
	</form>
	-->
</body>
</html>
